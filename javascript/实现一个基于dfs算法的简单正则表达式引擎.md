最近在研究正则表达式的底层实现原理，在这里先总结一下：


## 正则表达式的特点

1. 正则表达式中的字符分为 **字符字面量** 和 **元字符**
2. 不同的正则表达式引擎对不同的元字符支持程度不同，能提供的匹配能力也不同
3. 不同的正则表达式引擎对不同的字符编码支持程度不同，对相同字符的处理也不同
4. 正则表达式引擎从实现原理来分，可以分为 **基于表达式(nfa)** 和 **基于文本(dfa)** 两种
5. 从匹配能力来说，基于nfa的正则表达式引擎提供的元字符更多，功能更强大一些
6. 从匹配效率来说，基于dfa的正则表达式引擎因为不需要回朔，效率要更高一些
7. 现代的正则表达式引擎内部会同时包含基于nfa和dfa两个引擎，并根据不同情况选择使用不同的引擎

## 正则表达式支持的元字符
> 注意，这里提及的元字符并没有区分是nfa引擎还是dfa引擎的，其中打勾的是javascript中支持的元字符

### 特殊字符
* `\n` 换行符 ✔️
* `\r` 回车符 ✔️
* `\t` 水平制表符 ✔️
* `\v` 垂直制表符 ✔️
* `\a` 报警符
* `\b` 退格符 ✔️
* `\e` esc符
* `\f` 分页符 ✔️
* `\0` Null字符 ✔️

### 八进制字符
* `\num` 八进制字符

### 十六进制字符
* `\xnum` 十六进制字符 ✔️
* `\x{num}` 十六进制字符

### Unicode字符
* `\unum` Unicode字符 ✔️
* `\Unum` Unicode字符

### 普通字符组
* `[a-z]` 肯定字符组 ✔️
* `[^a-z]` 否定字符组 ✔️

### 特殊字符组
* `.` 匹配除换行符外任意字符 ✔️
* `\s` 匹配空白字符 ✔️
* `\d` 匹配数字字符，等价于[0-9] ✔️
* `\w` 匹配字母字符，等价于[^0-9] ✔️
* `\S` 匹配非空白字符 ✔️
* `\D` 匹配非数字字符，等价于[A-Za-z0-9_] ✔️
* `\W` 匹配非字母字符，等价于[^A-Za-z0-9_] ✔️

### 字节字符
* `\C` 单字节字符
* `\X` Unicode组合字符序列

### 零宽断言
* `^` 字符串起始/换行符之后 ✔️
* `\A` 字符串起始
* `$` 字符串结束/换行符之前 ✔️
* `\Z` `\z` 字符串结束
* `\G` 上次匹配点
* `\b` 单词分割点 ✔️
* `\B` 非单词分割点 ✔️
* `\<` `\>` 单词分割点
* `{?=...}` 顺序肯定环视 ✔️
* `{?!...}` 顺序否定环视 ✔️
* `{?<=...}` 逆序肯定环视
* `{?<!...}` 逆序否定环视

### 分组
* `(...)` 分组捕获 ✔️
* `\1` `\2` `\3` 反向引用
* `(?:...)` 分组不捕获 ✔️
* `(?<name>...)` 命名分组
* `(?>...)` 固化分组

### 匹配优先(贪婪)量词
* `?` 匹配0次或1次 ✔️
* `*` 匹配0次或以上 ✔️
* `+` 匹配1次还以上 ✔️
* `{min, max}` 匹配最少min次，最多max次 ✔️

### 忽略优先(惰性)量词
* `??` 匹配0次或1次 ✔️
* `*?` 匹配0次或以上 ✔️
* `+?` 匹配1次还以上 ✔️
* `{min, max}?` 匹配最少min次，最多max次

### 占有优先量词
* `?+` 匹配0次或1次
* `*+` 匹配0次或以上
* `++` 匹配1次还以上
* `{min, max}+` 匹配最少min次，最多max次

### 多选结构
* `...|...|...` 多个匹配分支 ✔️